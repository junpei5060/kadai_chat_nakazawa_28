(function(e){function t(t){for(var a,i,r=t[0],d=t[1],u=t[2],l=0,p=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);s&&s(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var d=n[r];0!==o[d]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},c=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/project-name/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var s=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("8aa5"),o=n.n(a),c=n("7a23"),i=(n("b0c0"),Object(c["p"])("data-v-629c6fc3"));Object(c["h"])("data-v-629c6fc3");var r={id:"app"},d={class:"item-image"},u={class:"item-detail"},s={class:"item-name"},l={class:"item-message"};Object(c["g"])();var p=i((function(e,t,n,a,o,p){var f=Object(c["j"])("nl2br");return Object(c["f"])(),Object(c["c"])("div",r,[Object(c["d"])(c["b"],{name:"chat",tag:"div",class:"list content"},{default:i((function(){return[(Object(c["f"])(!0),Object(c["c"])(c["a"],null,Object(c["i"])(o.chat,(function(e){var t=e.key,n=e.name,a=e.image,o=e.message;return Object(c["f"])(),Object(c["c"])("section",{key:t,class:"item"},[Object(c["d"])("div",d,[Object(c["d"])("img",{src:a,width:"40",height:"40"},null,8,["src"])]),Object(c["d"])("div",u,[Object(c["d"])("div",s,Object(c["k"])(n),1),Object(c["d"])("div",l,[Object(c["d"])(f,{tag:"div",text:o},null,8,["text"])])])])})),128))]})),_:1}),Object(c["d"])("form",{action:"",onSubmit:t[3]||(t[3]=Object(c["o"])((function(){return p.doSend.apply(p,arguments)}),["prevent"])),class:"form"},[Object(c["m"])(Object(c["d"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.input=e}),disabled:!o.user.uid,onKeydown:t[2]||(t[2]=Object(c["n"])(Object(c["o"])((function(){return p.doSend.apply(p,arguments)}),["exact","prevent"]),["enter"]))},null,40,["disabled"]),[[c["l"],o.input]]),Object(c["d"])("button",{type:"submit",disabled:!o.user.uid,class:"send-button"},"Send",8,["disabled"])],32)])})),f=n("59ca"),h=n.n(f),b=n("141d"),m=n.n(b),g={components:{Nl2br:m.a},data:function(){return{user:{},chat:[],input:""}},created:function(){var e=this;h.a.auth().onAuthStateChanged((function(t){e.user=t||{};var n=h.a.database().ref("message");t?(e.chat=[],n.limitToLast(10).on("child_added",e.childAdded)):n.limitToLast(10).off("child_added",e.childAdded)}))},methods:{doLogin:function(){var e=this,t=new h.a.auth.GoogleAuthProvider;h.a.auth().signInWithPopup(t).then((function(e){console.log(e.user)})).catch((function(t){console.log(t),e.errorMessage=t.message,e.showError=!0}))},doLogout:function(){h.a.auth().signOut()},scrollBottom:function(){this.$nextTick((function(){window.scrollTo(0,document.body.clientHeight)}))},childAdded:function(e){var t=e.val();this.chat.push({key:e.key,name:t.name,image:t.image,message:t.message}),this.scrollBottom()},doSend:function(){var e=this;this.user.uid&&this.input.length&&h.a.database().ref("message").push({message:this.input,name:this.user.displayName,image:this.user.photoURL},(function(){e.input=""}))}}};n("fc4f");g.render=p,g.__scopeId="data-v-629c6fc3";var v=g;c["default"].config.productionTip=!1;var j={apiKey:"AIzaSyA365DFhVAAH_WLASehC8uBYi6R25xkfB0",authDomain:"chat-app-1715d.firebaseapp.com",databaseURL:"https://chat-app-1715d.firebaseio.com",projectId:"chat-app-1715d",storageBucket:"chat-app-1715d.appspot.com",messagingSenderId:"239344260010",appId:"1:239344260010:web:bfdae543d4531602dbd1d3"};o.a.initializeApp(j),new c["default"]({el:"#app",components:{App:v},template:"<App/>"})},f293:function(e,t,n){},fc4f:function(e,t,n){"use strict";n("f293")}});
//# sourceMappingURL=app.8201f35f.js.map